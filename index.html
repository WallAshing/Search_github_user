<!DOCTYPE html>
<html lang="en">
<head>
      <meta charset="UTF-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Git user search</title>
</head>
<body>
      <main>
            <form action="" method="POST">
                  <input type="text" placeholder="Search a github user" name="username">
                  <button>Search!</button>
            </form>
      </main>

<script type="module">
    // require('dotenv').config()

    import { Octokit } from "https://cdn.skypack.dev/@octokit/core";
    
    // const TOKEN = process.env.TOKEN
    const octokit = new Octokit({ auth: "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" });
    
    const users = await octokit.request('GET /search/users', {
        q: 'sverke',
        per_page: 5
    })
    
    for (let index = 0; index < users.data.items.length; index++) {
        console.log(users.data.items[index].login)
    }

</script>

</body>
</html>

